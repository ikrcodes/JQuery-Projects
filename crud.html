<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD Operations using JQuery</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="js/jquery.js"></script>
    <script>
        $(document).ready(function(){
            //code for create data
            $("#submit").click(function(){
                var name =$("#txtname").val();
                var email =$("#txtmail").val();
                var phone=$("#txtphone").val();
                var city= $("#txtcity").val();

                if(!name || !email || !phone || !city){                    
                    alert("All fields are required")
                }
                else{
                    var row = $("table").append(`<tr><td class="name">${name}</td><td class="email">${email}</td><td class="phone">${phone}</td><td class="city">${city}</td><td><button id="edit" class="btn btn-danger">Edit</button></td><td><button id="delete" class="btn btn-danger">Delete</button></td></tr>`);
                    var name =$("#txtname").val("");
                    var email =$("#txtmail").val("");
                    var phone=$("#txtphone").val("");
                    var city= $("#txtcity").val("");
                }
            })
            //code for update data
            let editingRow=null;
            $(document).on("click","#edit", function(){
                var row= $(this).closest("tr");

                var name=$(row).find(".name").text();
                var email=$(row).find(".email").text();
                var phone=$(row).find(".phone").text();
                var city=$(row).find(".city").text();
        
                //put value back in the form
                $("#txtname").val(name);
                $("#txtmail").val(email);
                $("#txtphone").val(phone);
                $("#txtcity").val(city);
                

                $("#submit").val("Update");
            })
        })
    </script>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-sm-3"></div>
            <div class="col-sm-6 shadow p-4">
                <h2 class="text-center text-danger my-3">Enter Your Details Here</h2>
                <hr style="height: 5px; background: rgb(255, 57, 57);">
                <form action="" class="border border-2 rounded p-3 row">
                    <div class="col-sm-6">
                        <label for="">Enter Name</label>
                        <input type="text" id="txtname" class="form-control ">
                    </div>
                    <div class="col-sm-6">
                        <label for="" class="form-label">Enter email id</label>
                        <input type="email" id="txtmail" class="form-control ">
                    </div>
                    <div class="col-sm-6">
                        <label for="" class="form-label">Enter mobile number</label>
                        <input type="number" id="txtphone" class="form-control ">
                    </div>
                    <div class="col-sm-6">
                        <label for="" class="form-label">Enter city name</label>
                        <input type="text" id="txtcity" class="form-control ">
                    </div>
                    <input type="button" value="submit" id="submit" class=" btn btn-danger my-4 w-50 mx-auto" >
                </form>
            </div>
            <div class="col-sm-3"></div>
        </div>
        <div class="row my-3">
            <hr style="height: 4px; background-color: brown;">
            <h2 class="text-center text-danger">Display Employee Records </h2>
            <table class="table table-responsive table-border">
                <tr class="bg-danger text-white">
                    <th>Name</th>
                    <th>Email</th>
                    <th>Mobile</th>
                    <th>City</th>
                    <th>Update</th>
                    <th>Delete</th>
                </tr>
            </table>
        </div>
    </div>
</body>
</html>